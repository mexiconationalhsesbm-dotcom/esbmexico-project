(()=>{var e={};e.id=2196,e.ids=[2196],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4494:(e,r,a)=>{"use strict";a.d(r,{default:()=>s});let s=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Jave\\\\Desktop\\\\research\\\\esbmexico\\\\src\\\\components\\\\form\\\\used-forms\\\\CreateAdminForm.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Jave\\Desktop\\research\\esbmexico\\src\\components\\form\\used-forms\\CreateAdminForm.tsx","default")},5661:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});var s=a(60687);a(43210);let t=({title:e,children:r,className:a="",desc:t=""})=>(0,s.jsxs)("div",{className:`rounded-2xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03] ${a}`,children:[(0,s.jsxs)("div",{className:"px-6 py-5",children:[(0,s.jsx)("h3",{className:"text-base font-medium text-gray-800 dark:text-white/90",children:e}),t&&(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:t})]}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 sm:p-6",children:(0,s.jsx)("div",{className:"space-y-6",children:r})})]})},9602:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o,metadata:()=>n});var s=a(37413),t=a(59904),l=a(4494);a(61120);var d=a(76033),i=a(39916);let n={title:"eSBMexico Create Admin | MNHS",description:"Mexico National High School e-SBM System"};async function o(){let e=await (0,d.U)(),{data:{user:r}}=await e.auth.getUser();r||(0,i.notFound)();let{data:a,error:n}=await e.from("admins").select("role_id").eq("id",r.id).single();return a&&2===a.role_id||(0,i.notFound)(),(0,s.jsxs)("div",{children:[(0,s.jsx)(t.A,{pageTitle:"Create Admin"}),(0,s.jsx)("div",{className:"h-fit rounded-2xl border border-gray-200 bg-white px-5 py-7 dark:border-gray-800 dark:bg-white/3 xl:px-10 xl:py-12",children:(0,s.jsxs)("div",{className:"mx-auto w-full text-center",children:[(0,s.jsx)("h3",{className:"mb-4 font-semibold text-gray-800 text-theme-xl dark:text-white/90 sm:text-2xl",children:"Create New Admin Account"}),(0,s.jsx)(l.default,{})]})})]})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12900:(e,r,a)=>{"use strict";a.d(r,{default:()=>b});var s=a(60687),t=a(43210),l=a(5661),d=a(41721),i=a(79219),n=a(55324),o=a(92704),c=a(94676),x=a(76431),m=a(13116),p=a(27605),u=a(63442),h=a(26596);let g=h.Ikc({firstName:h.YjP().min(2,"First name is required"),middleName:h.YjP().optional(),lastName:h.YjP().min(2,"Last name is required"),email:h.YjP().email("Invalid email"),role:h.k5n(["3","4","5"]).refine(e=>!!e,{message:"Role is required"}),assigned:h.YjP().optional()});function b(){let{showAlert:e}=(0,m.M)(),[r,a]=(0,t.useState)(!1),h=[{value:"3",label:"Overall Focal Person"},{value:"4",label:"Dimension Leader"},{value:"5",label:"Dimension Member"}],b=[{value:"1",label:"Leadership"},{value:"2",label:"Governance"},{value:"3",label:"Curriculum and Instructions"},{value:"4",label:"Resource Management and Mobilization"},{value:"5",label:"Learning Environment"},{value:"6",label:"Human Resource and Team Development"}],{register:f,handleSubmit:v,watch:y,formState:{errors:j},reset:N,control:k}=(0,p.mN)({resolver:(0,u.u)(g),mode:"onChange"}),w=y("role"),A=async r=>{a(!0);let s=(0,x.U)(),t=r.assigned?parseInt(r.assigned):null,l=r.middleName?` ${r.middleName.charAt(0).toUpperCase()}.`:"",d=`${r.firstName}${l} ${r.lastName}`;try{let{data:a,error:l}=await s.auth.admin.inviteUserByEmail(r.email);if(l)return void e({type:"error",title:"Error",message:l.message});let{error:i}=await s.from("admins").insert({id:a.user.id,first_name:r.firstName,middle_name:r.middleName||null,last_name:r.lastName,full_name:d,email:r.email,role:r.role,assigned_dimension_id:t,status:"Pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(i)return void e({type:"error",title:"Error",message:i.message});e({type:"success",title:"Success",message:"Invitation sent! User must confirm via email."}),N()}catch(r){console.error(r),e({type:"error",title:"Error",message:"An unexpected error occurred"})}finally{a(!1)}};return(0,s.jsxs)("form",{className:"w-full",onSubmit:v(A),children:[(0,s.jsx)("div",{className:"w-full",children:(0,s.jsx)(l.A,{title:"Note: E-mail Confirmation needed.",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(d.A,{children:"Account Information"}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.A,{placeholder:"First Name",...f("firstName"),className:"pl-[62px]"}),(0,s.jsx)("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:(0,s.jsx)(o.ny,{})})]}),j.firstName&&(0,s.jsx)("p",{className:"text-xs text-red-500",children:j.firstName.message})]}),(0,s.jsx)("div",{className:"flex flex-col gap-1",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.A,{placeholder:"Middle Name",...f("middleName"),className:"pl-[62px]"}),(0,s.jsx)("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:(0,s.jsx)(o.ny,{})})]})}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.A,{placeholder:"Last Name",...f("lastName"),className:"pl-[62px]"}),(0,s.jsx)("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:(0,s.jsx)(o.ny,{})})]}),j.lastName&&(0,s.jsx)("p",{className:"text-xs text-red-500",children:j.lastName.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(n.A,{placeholder:"info@gmail.com",type:"email",...f("email"),className:"pl-[62px]"}),(0,s.jsx)("span",{className:"absolute left-0 top-1/2 -translate-y-1/2 border-r border-gray-200 px-3.5 py-3 text-gray-500 dark:border-gray-800 dark:text-gray-400",children:(0,s.jsx)(o.u6,{})})]}),j.email&&(0,s.jsx)("p",{className:"text-xs text-red-500",children:j.email.message})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(d.A,{children:"Select Role Level"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.xI,{name:"role",control:k,defaultValue:void 0,render:({field:e})=>(0,s.jsx)(i.A,{options:h,placeholder:"Select Option",defaultValue:e.value,onChange:r=>e.onChange(r),className:"dark:bg-dark-900"})}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500 dark:text-gray-400",children:(0,s.jsx)(o.D3,{})})]}),j.role&&(0,s.jsx)("p",{className:"text-xs text-red-500",children:j.role.message})]}),("4"===w||"5"===w)&&(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(d.A,{children:"Assign Dimension"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p.xI,{name:"assigned",control:k,defaultValue:"",render:({field:e})=>(0,s.jsx)(i.A,{options:b,placeholder:"Select Option",defaultValue:e.value,onChange:r=>e.onChange(r),className:"dark:bg-dark-900"})}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500 dark:text-gray-400",children:(0,s.jsx)(o.D3,{})})]})]})]})})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.A,{type:"submit",className:"w-full mt-6",size:"sm",disabled:r,children:r?"Creating...":"Create"})})]})}},16114:(e,r,a)=>{Promise.resolve().then(a.bind(a,4494))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},39674:(e,r,a)=>{Promise.resolve().then(a.bind(a,12900))},41721:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var s=a(60687);a(43210);var t=a(82348);let l=({htmlFor:e,children:r,className:a})=>(0,s.jsx)("label",{htmlFor:e,className:(0,t.QP)("mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400",a),children:r})},55324:(e,r,a)=>{"use strict";a.d(r,{A:()=>d});var s=a(60687),t=a(43210);let l=a.n(t)().forwardRef(({type:e="text",className:r="",success:a=!1,error:t=!1,hint:l,...d},i)=>{let n=`h-11 w-full rounded-lg border appearance-none px-4 py-2.5 text-sm shadow-theme-xs 
      placeholder:text-gray-400 focus:outline-hidden focus:ring-3 
      dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 
      dark:focus:border-brand-800 ${r}`;return d.disabled?n+=" text-gray-500 border-gray-300 cursor-not-allowed dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700":t?n+=" text-error-800 border-error-500 focus:ring-3 focus:ring-error-500/10 dark:text-error-400 dark:border-error-500":a?n+=" text-success-500 border-success-400 focus:ring-success-500/10 focus:border-success-300 dark:text-success-400 dark:border-success-500":n+=` bg-transparent text-gray-800 border-gray-300 focus:border-brand-300 focus:ring-3 
        focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:focus:border-brand-800`,(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{ref:i,type:e,className:n,...d}),l&&(0,s.jsx)("p",{className:`mt-1.5 text-xs ${t?"text-error-500":a?"text-success-500":"text-gray-500"}`,children:l})]})});l.displayName="Input";let d=l},59904:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});var s=a(37413);a(61120);let t=({pageTitle:e})=>(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-800 dark:text-white/90","x-text":"pageName",children:e}),(0,s.jsx)("nav",{children:(0,s.jsxs)("ol",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-1.5 text-sm text-gray-500 dark:text-gray-400",children:["Dimension",(0,s.jsx)("svg",{className:"stroke-current",width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M6.0765 12.667L10.2432 8.50033L6.0765 4.33366",stroke:"",strokeWidth:"1.2",strokeLinecap:"round",strokeLinejoin:"round"})})]})}),(0,s.jsx)("li",{className:"text-sm text-gray-800 dark:text-white/90",children:e})]})})]})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},75090:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>d.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var s=a(65239),t=a(48088),l=a(88170),d=a.n(l),i=a(30893),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(r,n);let o={children:["",{children:["dashboard",{children:["add-dimension",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9602)),"C:\\Users\\Jave\\Desktop\\research\\esbmexico\\src\\app\\dashboard\\add-dimension\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,63144)),"C:\\Users\\Jave\\Desktop\\research\\esbmexico\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,94431)),"C:\\Users\\Jave\\Desktop\\research\\esbmexico\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,54413)),"C:\\Users\\Jave\\Desktop\\research\\esbmexico\\src\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\Jave\\Desktop\\research\\esbmexico\\src\\app\\dashboard\\add-dimension\\page.tsx"],x={require:a,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/dashboard/add-dimension/page",pathname:"/dashboard/add-dimension",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},79219:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var s=a(60687),t=a(43210);let l=({options:e,placeholder:r="Select an option",onChange:a,className:l="",defaultValue:d=""})=>{let[i,n]=(0,t.useState)(d);return(0,s.jsxs)("select",{className:`h-11 w-full appearance-none rounded-lg border border-gray-300  px-4 py-2.5 pr-11 text-sm shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800 ${i?"text-gray-800 dark:text-white/90":"text-gray-400 dark:text-gray-400"} ${l}`,value:i,onChange:e=>{let r=e.target.value;n(r),a(r)},children:[(0,s.jsx)("option",{value:"",disabled:!0,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:r}),e.map(e=>(0,s.jsx)("option",{value:e.value,className:"text-gray-700 dark:bg-gray-900 dark:text-gray-400",children:e.label},e.value))]})}},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")}};var r=require("../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[7719,3607,4999,4386,1234,1931,1085,8180,8557,1980],()=>a(75090));module.exports=s})();